@model List<Model.EF.Product>
@{
    var category = (Model.EF.ProductCategory)ViewBag.Category;
    ViewBag.Title = category.Name;
    ViewBag.Title = "Category";
    Layout = "~/Views/Shared/_Layout_Categories.cshtml";
}

<div class="product-grid">
    <!-- Product 1 -->
    @foreach (var item in Model)
    {
        var url = "/chi-tiet/" + item.MetaTitle + "-" + item.ID;
        <div class="product-item men">
            <div class="product discount product_filter">
                <div class="product_image">
                    <img src="@item.Image" alt="@item.Name">
                </div>
                <div class="favorite favorite_left"></div>
                <div class="product_bubble product_bubble_right product_bubble_red d-flex flex-column align-items-center"><span>-$20</span></div>
                <div class="product_info">
                    <h6 class="product_name"><a href="@url">@item.Name</a></h6>
                    <div class="product_price">$520.00<span>@item.Price</span></div>
                </div>
            </div>
            <div class="red_button add_to_cart_button"><a href="#">add to cart</a></div>
        </div>
    }
<div class="product_sorting_container product_sorting_container_bottom clearfix">
    <ul class="product_sorting">
        <li>
            <span>Show:</span>
            <span class="num_sorting_text">04</span>
            <i class="fa fa-angle-down"></i>
            <ul class="sorting_num">
                <li class="num_sorting_btn"><span>01</span></li>
                <li class="num_sorting_btn"><span>02</span></li>
                <li class="num_sorting_btn"><span>03</span></li>
                <li class="num_sorting_btn"><span>04</span></li>
            </ul>
        </li>
    </ul>
    <span class="showing_results">Showing 1–3 of 12 results</span>
    @if (ViewBag.TotalPage > 1)
    {
        var pageDisplay = int.Parse(ViewBag.MaxPage);
        int totalPage = (int)ViewBag.TotalPage;
        int currentPage = ((int)ViewBag.Page);

        var startPageIndex = Math.Max(1, currentPage - pageDisplay / 2);
        var endPageIndex = Math.Min(totalPage, currentPage + pageDisplay / 2);

        var link = "/san-pham" + category.MetaTitle + "-" + category.ID;
     <div class="pages d-flex flex-row align-items-center">
    <div class="page_current">
        <span>1</span>
        <ul class="page_selection">
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
        </ul>
    </div>
    <div class="page_total"><span>of</span> 3</div>
    <div id="next_page_1" class="page_next"><a href="#"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a></div>
</div>
    }
    else
    {
        <span>Khong co ban ghi nao</span>
    }
    

</div>
    
</div>